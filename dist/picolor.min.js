define(["require","exports","chroma-js"],function(require,exports,Chroma){"use strict";function _id(divID){return document.getElementById(divID)}function _empty(divID){var el=_id(divID);if(el)for(;el.firstChild;)el.removeChild(el.firstChild)}function _append(divID,html){var el=_id(divID);el&&(el.innerHTML+=html)}function _offset(divID){var rect=_id(divID).getBoundingClientRect();return{top:rect.top+document.body.scrollTop,left:rect.left+document.body.scrollLeft}}function _lch2rgb(l,c,h){var lab_xyz=function(x){return x>.206893034?x*x*x:(x-4/29)/7.787037},xyz_rgb=function(r){return Math.round(255*(r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055))},rgbCap=function(x){return Math.max(0,Math.min(255,x))},rgb=new Uint8Array(3),h1=h*Math.PI/180,y=(l+16)/116,x=y+Math.cos(h1)*c/500,z=y-Math.sin(h1)*c/200;return x=.95047*lab_xyz(x),y=1*lab_xyz(y),z=1.08883*lab_xyz(z),rgb[0]=rgbCap(xyz_rgb(3.2404542*x-1.5371385*y-.4985314*z)),rgb[1]=rgbCap(xyz_rgb(-.969266*x+1.8760108*y+.041556*z)),rgb[2]=rgbCap(xyz_rgb(.0556434*x-.2040259*y+1.0572252*z)),rgb}Object.defineProperty(exports,"__esModule",{value:!0});var _lightSpectrum=[Chroma.hex(Chroma.brewer.Paired[0]),Chroma.hex(Chroma.brewer.Paired[2]),Chroma.hex(Chroma.brewer.Paired[10]),Chroma.hex(Chroma.brewer.Paired[6]),Chroma.hex(Chroma.brewer.Paired[4]),Chroma.hex(Chroma.brewer.Paired[8])],_darkSpectrum=[Chroma.hex(Chroma.brewer.Paired[1]),Chroma.hex(Chroma.brewer.Paired[3]),Chroma.hex(Chroma.brewer.Paired[11]),Chroma.hex(Chroma.brewer.Paired[7]),Chroma.hex(Chroma.brewer.Paired[5]),Chroma.hex(Chroma.brewer.Paired[9])],_whiteToBlackInterpolator=Chroma.scale(["white","black"]).correctLightness(!0),BasicPicker=function(){function BasicPicker(containerDivID,options){this._lch=_whiteToBlackInterpolator(.4).lch(),this._alpha=1,options&&this.setOptions(options),this.containerDivID=containerDivID,this.colorBandDivID=this.containerDivID+"-colorband",this.blackToWhiteBandDivID=this.containerDivID+"-blacktowhiteband";var content='<div>\t<div id="'+this.colorBandDivID+'-0"></div>\t<div id="'+this.colorBandDivID+'-1"></div>\t<div id="'+this.blackToWhiteBandDivID+'"></div></div>';_empty(this.containerDivID),_append(this.containerDivID,content),this.draw()}return BasicPicker.prototype.setOptions=function(options){options.color&&(this._lch=options.color.lch(),this._alpha=options.color.alpha()),options.onChange&&(this.onChange=options.onChange)},Object.defineProperty(BasicPicker.prototype,"lch",{get:function(){return this._lch},set:function(val){val[2]<0&&(val[2]+=360),val[2]>=360&&(val[2]-=360),this._lch=val,this.draw()},enumerable:!0,configurable:!0}),Object.defineProperty(BasicPicker.prototype,"hex",{get:function(){return Chroma.lch(this.lch[0],this.lch[1],this.lch[2]).hex()},enumerable:!0,configurable:!0}),Object.defineProperty(BasicPicker.prototype,"color",{get:function(){var color=Chroma.lch(this.lch[0],this.lch[1],this.lch[2]);return color.alpha(this._alpha),color},set:function(val){this._lch=val.lch(),this._alpha=val.alpha(),this.draw()},enumerable:!0,configurable:!0}),BasicPicker.prototype.draw=function(){for(var _this=this,colorDiff=function(col1,col2){var rgb1=col1.rgb(),rgb2=col2.rgb(),rDiff=rgb1[0]-rgb2[0],gDiff=rgb1[1]-rgb2[1],bDiff=rgb1[2]-rgb2[2];return Math.sqrt(rDiff*rDiff+gDiff*gDiff+bDiff*bDiff)},genSpectrumContent=function(spectrum,containerID){for(var content="",i=0;i<spectrum.length;i++)content+='<div id="'+(containerID+"-"+i)+'" style="width: 38px;height: 24px;cursor: pointer;display: inline-block;padding: 1px;background-color: #E0E0E0;margin: 0px 4px 0px 4px;',colorDiff(_this.color,spectrum[i])<1?content+=" border: 2px solid black;":content+=" border: 2px solid #E0E0E0;",content+='">',content+='\t<div style="height: 24px; background-color:'+spectrum[i].css()+'"></div>',content+="</div>";_empty(containerID),_append(containerID,content);for(i=0;i<spectrum.length;i++)!function(){var el=_id(containerID+"-"+i),newColor=spectrum[i];el.addEventListener("click",function(ev){_this.lch=newColor.lch(),_this.onChange&&_this.onChange(_this.color)}),el.addEventListener("mouseenter",function(ev){colorDiff(_this.color,newColor)>=1&&(el.style.border="2px solid gray")}),el.addEventListener("mouseleave",function(ev){colorDiff(_this.color,newColor)>=1&&(el.style.border="2px solid #E0E0E0")})}()},blackWhiteSpectrum=[],i=0;i<6;i++)blackWhiteSpectrum.push(_whiteToBlackInterpolator(.2*i));genSpectrumContent(_lightSpectrum,this.colorBandDivID+"-0"),genSpectrumContent(_darkSpectrum,this.colorBandDivID+"-1"),genSpectrumContent(blackWhiteSpectrum,this.blackToWhiteBandDivID)},BasicPicker}();exports.BasicPicker=BasicPicker;var Palette=function(){function Palette(containerDivID,options){var _this=this;this.containerDivID=containerDivID,this._categoryCount=3,this._alpha=1,this.blueRange=[Chroma.hex("#deebf7"),Chroma.hex("#08306b")],this.orangeRange=[Chroma.hex("#fee6ce"),Chroma.hex("#7f2704")],this.greenRange=[Chroma.hex("#e5f5e0"),Chroma.hex("#00441b")],this.grayRange=[Chroma.hex("#d9d9d9"),Chroma.hex("#000000")],this.brownWhiteRange=[Chroma.hex("#543005"),Chroma.hex("#f5f5f5")],this.whiteSeagreenRange=[Chroma.hex("#f5f5f5"),Chroma.hex("#003c30")],this.redYellowRange=[Chroma.hex("#a50026"),Chroma.hex("#ffffbf")],this.yellowPurpleRange=[Chroma.hex("#ffffbf"),Chroma.hex("#313695")],this.qualitativePaletteCount=1,this.brewerPairedRanges=[[Chroma.hex(Chroma.brewer.Paired[0]),Chroma.hex(Chroma.brewer.Paired[1])],[Chroma.hex(Chroma.brewer.Paired[2]),Chroma.hex(Chroma.brewer.Paired[3])],[Chroma.hex(Chroma.brewer.Paired[4]),Chroma.hex(Chroma.brewer.Paired[5])],[Chroma.hex(Chroma.brewer.Paired[6]),Chroma.hex(Chroma.brewer.Paired[7])],[Chroma.hex(Chroma.brewer.Paired[8]),Chroma.hex(Chroma.brewer.Paired[9])],[Chroma.hex(Chroma.brewer.Paired[10]),Chroma.hex(Chroma.brewer.Paired[11])]],this.margin=10,this.pad=10,this.h=33,this.w=33,this.hoverPalIdx=-1,this.selectedPalIdx=0,this.isDraggingLightness=!1,this.containerDivID=containerDivID,this.paletteCanvasDivID=this.containerDivID+"-canvas",options&&this.setOptions(options);var content='<div style="background-color: #E0E0E0; padding 5px; cursor: pointer;">\t<canvas id="'+this.paletteCanvasDivID+'"></canvas></div>';_empty(this.containerDivID),_append(this.containerDivID,content);var el=_id(this.paletteCanvasDivID);el.addEventListener("click",this.setPalette.bind(this)),el.addEventListener("mousemove",function(ev){_this.onHover(ev,"gray")}),el.addEventListener("mouseleave",function(ev){_this.onHover(ev,"#E0E0E0")}),this.draw()}return Palette.prototype.onHover=function(ev,hoverColor){var hoverIdx=this.resolvePaletteIndex(ev.clientX,ev.clientY);if(this.hoverPalIdx!==hoverIdx){this.hoverPalIdx=hoverIdx;for(var el=document.getElementById(this.paletteCanvasDivID),k=0;k<7;k++)this.selectedPalIdx!==k&&this.drawPaletteBorder(k,el.getContext("2d"),"#E0E0E0");this.selectedPalIdx!==this.hoverPalIdx&&this.drawPaletteBorder(this.hoverPalIdx,el.getContext("2d"),hoverColor)}},Object.defineProperty(Palette.prototype,"alpha",{get:function(){return this._alpha},set:function(val){this._alpha=val,this.draw()},enumerable:!0,configurable:!0}),Palette.prototype.generateScale=function(range){return Chroma.scale([range[0].hex(),range[1].hex()]).correctLightness(!0)},Object.defineProperty(Palette.prototype,"sequentialPalettes",{get:function(){var bluePalette=this.generateScale(this.blueRange),orangePalette=this.generateScale(this.orangeRange),greenPalette=this.generateScale(this.greenRange);return[this.generateScale(this.grayRange),bluePalette,greenPalette,orangePalette]},enumerable:!0,configurable:!0}),Object.defineProperty(Palette.prototype,"divergentPalettes",{get:function(){Chroma.scale([this.brownWhiteRange[0].hex(),this.brownWhiteRange[1].hex()]).correctLightness(!0),Chroma.scale([this.whiteSeagreenRange[0].hex(),this.whiteSeagreenRange[1].hex()]).correctLightness(!0),Chroma.scale([this.redYellowRange[0].hex(),this.redYellowRange[1].hex()]).correctLightness(!0),Chroma.scale([this.yellowPurpleRange[0].hex(),this.yellowPurpleRange[1].hex()]).correctLightness(!0);return[[this.generateScale(this.brownWhiteRange),this.generateScale(this.whiteSeagreenRange)],[this.generateScale(this.redYellowRange),this.generateScale(this.yellowPurpleRange)]]},enumerable:!0,configurable:!0}),Object.defineProperty(Palette.prototype,"brewerPairedScales",{get:function(){for(var brewerPairedScales=[],i=0;i<this.brewerPairedRanges.length;i++){var scale=this.generateScale(this.brewerPairedRanges[i]);brewerPairedScales.push(scale)}return brewerPairedScales},enumerable:!0,configurable:!0}),Palette.prototype.resolvePaletteIndex=function(mousex,mousey){var x=mousex-this.offset.left,numPals=(this.offset.top,this.sequentialPalettes.length+this.divergentPalettes.length+this.qualitativePaletteCount),totWidth=2*this.margin+this.w*numPals+this.pad*(numPals-1);return Math.floor(x/(totWidth/numPals))},Palette.prototype.setPalette=function(ev){this.selectedPalIdx=this.resolvePaletteIndex(ev.clientX,ev.clientY),this.onChange&&this.onChange(this.palette),this.draw()},Palette.prototype.setOptions=function(options){options.categoryCount&&options.categoryCount>1&&(this._categoryCount=options.categoryCount),options.onChange&&(this.onChange=options.onChange)},Object.defineProperty(Palette.prototype,"palette",{get:function(){for(var result=[],pal=this.paletteMatrix()[this.selectedPalIdx],i=0;i<pal.length;i++)result.push(pal[i]);return result},enumerable:!0,configurable:!0}),Object.defineProperty(Palette.prototype,"categoryCount",{get:function(){return this._categoryCount},set:function(val){this._categoryCount=val,this.draw()},enumerable:!0,configurable:!0}),Palette.prototype.paletteMatrix=function(){for(var m=[],numCats=this.categoryCount,i=0;i<this.sequentialPalettes.length;i++){for(var palArr=[],pal=this.sequentialPalettes[i],j=0;j<numCats;j++){var idx=j/(numCats-1);palArr.push(pal(idx))}m.push(palArr)}for(i=0;i<this.divergentPalettes.length;i++){for(var palArr=[],pal1=this.divergentPalettes[i][0],pal2=this.divergentPalettes[i][1],j=0;j<numCats;j++){var col=(idx=j/(numCats-1))<=.5?pal1(2*idx):pal2(2*(idx-.5));palArr.push(col)}m.push(palArr)}var palArr=[],interpolationsPerScale=2;2*this.brewerPairedScales.length<numCats&&(interpolationsPerScale=Math.ceil(numCats/this.brewerPairedScales.length));for(i=0;i<this.brewerPairedScales.length&&palArr.length<numCats;i++)for(var pair=this.brewerPairedScales[i],j=0;j<interpolationsPerScale&&palArr.length<numCats;j++)palArr.push(pair(j/(interpolationsPerScale-1)));return m.push(palArr),m},Palette.prototype.drawCheckerboxAndTransparencySlider=function(el,context,palMatrix){for(var imageData=context.createImageData(el.width,el.height),pixels=imageData.data,i=0,y=0;y<el.height;y++)for(x=0;x<el.width;x++,i+=4)if(!(y<this.margin||y>el.height-this.margin-0-1||x<this.margin||x>el.width-this.margin-1||(x-this.margin)%(this.w+this.pad)>=this.w)){var horz=Math.floor(x/5)%2==0,vert=Math.floor(y/5)%2==0,val=horz&&!vert||!horz&&vert?250:200;pixels[i]=val,pixels[i+1]=val,pixels[i+2]=val,pixels[i+3]=255}for(var i=0,y=0;y<el.height;y++)for(var x=0;x<el.width;x++,i+=4)if(!(y<el.height-this.margin-14||y>el.height-this.margin-1||x<this.margin||x>el.width-this.margin-1)){var horz=Math.floor(x/5)%2==0,vert=Math.floor(y/5)%2==0,b_r=val=horz&&!vert||!horz&&vert?250:200,b_g=val,b_b=val,rgb=palMatrix[this.selectedPalIdx][this.categoryCount-1].rgb(),f_a=1-(x-this.margin)/(el.width-2*this.margin),f_r=rgb[0],f_g=rgb[1],f_b=rgb[2];pixels[i]=f_r*f_a+b_r*(1-f_a),pixels[i+1]=f_g*f_a+b_g*(1-f_a),pixels[i+2]=f_b*f_a+b_b*(1-f_a),pixels[i+3]=255}context.putImageData(imageData,0,0)},Palette.prototype.drawPalettes=function(context,palMatrix){context.globalAlpha=this.alpha;for(var i=0;i<palMatrix.length;i++)for(var palArr=palMatrix[i],j=0;j<palArr.length;j++)context.fillStyle=palArr[j].css(),context.fillRect(this.margin+i*(this.w+this.pad),this.margin+j*this.h,this.w,this.h)},Palette.prototype.drawPaletteBorder=function(palIdx,context,strokeStyle){context.globalAlpha=1,context.strokeStyle=strokeStyle,context.lineWidth=1.5,context.strokeRect(this.margin-2+palIdx*(this.w+this.pad),this.margin-2,this.w+4,this.h*this.categoryCount+4)},Palette.prototype.drawTransparencySelection=function(context){},Palette.prototype.drawLightnessSelection=function(context){},Palette.prototype.draw=function(){this.offset=_offset(this.paletteCanvasDivID);var el=document.getElementById(this.paletteCanvasDivID),context=el.getContext("2d"),numCats=this.categoryCount,numPals=this.sequentialPalettes.length+this.divergentPalettes.length+this.qualitativePaletteCount;el.width=2*this.margin+this.w*numPals+this.pad*(numPals-1),el.height=2*this.margin+this.h*numCats+0;var palMatrix=this.paletteMatrix();this.drawPalettes(context,palMatrix),this.drawPaletteBorder(this.selectedPalIdx,context,"black"),this.drawTransparencySelection(context),this.drawLightnessSelection(context)},Palette}();exports.Palette=Palette;var ColorWheel=function(){function ColorWheel(containerDivID,options){var _this=this;this._lch=_whiteToBlackInterpolator(.4).lch(),this._alpha=1,this.dirty=!0,this.width=298,this.height=298,this.radius=119,this.cx=this.width/2,this.cy=this.height/2,options&&this.setOptions(options),this.containerDivID=containerDivID,this.colorWheelDivID=this.containerDivID+"-colorwheel";var content='<div style="background-color: #E0E0E0; padding 5px">\t<canvas id="'+this.colorWheelDivID+'"></canvas>';_empty(this.containerDivID),_append(this.containerDivID,content);this.imageDataCache=function(divID){var el=document.getElementById(divID);return el.width=_this.width,el.height=_this.height,el.getContext("2d").createImageData(_this.width,_this.height)}(this.colorWheelDivID),this.addEventListeners()}return ColorWheel.prototype.addEventListeners=function(){var _this=this,el=document.getElementById(this.colorWheelDivID);this.stopDraggingHandler=this.setWheelDragStateOff.bind(this),this.mouseMoveHandler=function(ev){_this.setCursor(ev),_this.setWheelColor(ev)},window.addEventListener("mouseup",this.stopDraggingHandler),window.addEventListener("mousemove",this.mouseMoveHandler),el.addEventListener("mousedown",function(ev){_this.setWheelDragStateOn(ev),_this.setWheelColor(ev)}),this.loop()},ColorWheel.prototype.removeEventListeners=function(){window.removeEventListener("mouseup",this.stopDraggingHandler),window.removeEventListener("mousemove",this.mouseMoveHandler),cancelAnimationFrame(this.animationLoopHandlerRef)},ColorWheel.prototype.setOptions=function(options){options.color&&(this._lch=options.color.lch(),this._alpha=options.color.alpha()),options.onChange&&(this.onChange=options.onChange)},ColorWheel.prototype.setWheelDragStateOn=function(ev){var x=ev.pageX-this.offset.left,y=ev.pageY-this.offset.top,rx=x-this.cx,ry=y-this.cy;Math.sqrt(rx*rx+ry*ry)<this.radius&&(this.isDraggingColor=!0),y>=30&&y<=this.height-30&&x>=0&&x<=18&&(this.isDraggingLightness=!0),y>=30&&y<=this.height-30&&x>=this.width-19&&x<=this.width&&(this.isDraggingAlpha=!0)},ColorWheel.prototype.setCursor=function(ev){if(!(this.isDraggingAlpha||this.isDraggingColor||this.isDraggingLightness)){var x=ev.pageX-this.offset.left,y=ev.pageY-this.offset.top,rx=x-this.cx,ry=y-this.cy,d=Math.sqrt(rx*rx+ry*ry),el=_id(this.colorWheelDivID);d<this.radius?el.style.cursor="crosshair":y>=30&&y<=this.height-30&&x>=0&&x<=18?el.style.cursor="s-resize":y>=30&&y<=this.height-30&&x>=this.width-19&&x<=this.width?el.style.cursor="s-resize":el.style.cursor="default"}},ColorWheel.prototype.setWheelColor=function(ev){var _this=this;if(this.isDraggingAlpha||this.isDraggingColor||this.isDraggingLightness){var x=ev.pageX-this.offset.left,y=ev.pageY-this.offset.top;if(this.isDraggingColor){var rx=x-this.cx,ry=y-this.cy,d=Math.sqrt(rx*rx+ry*ry);if(this.picked_x=x,this.picked_y=y,d>this.radius){d=this.radius;var ry1=this.radius*ry/Math.sqrt(rx*rx+ry*ry),rx1=this.radius*rx/Math.sqrt(rx*rx+ry*ry);this.picked_y=ry1+this.cy,this.picked_x=rx1+this.cx}var h=180*Math.atan2(ry,rx)/Math.PI,c=100*d/this.radius;this.lch=[this.lch[0],c,h]}if(this.isDraggingLightness){var l=Math.max(0,Math.min(100,100-(y-30)/(this.height-60)*100));this.lch=[l,this.lch[1],this.lch[2]]}this.isDraggingAlpha&&(this.alpha=Math.max(0,Math.min(1,1-(y-30)/(this.height-60)))),this.onChange&&(clearTimeout(this.onChangeTimeout),setTimeout(function(){_this.onChange(_this.color)},100))}},ColorWheel.prototype.setWheelDragStateOff=function(ev){this.isDraggingAlpha=!1,this.isDraggingColor=!1,this.isDraggingLightness=!1},Object.defineProperty(ColorWheel.prototype,"lch",{get:function(){return this._lch},set:function(val){isNaN(val[2])&&(val[2]=0),val[1]<0&&(val[1]+=360),val[1]>=360&&(val[1]-=360),val[2]<0&&(val[2]+=360),val[2]>=360&&(val[2]-=360),this._lch[0]===val[0]&&this._lch[1]===val[1]&&this._lch[2]===val[2]||(this.dirty=!0),this._lch=val},enumerable:!0,configurable:!0}),Object.defineProperty(ColorWheel.prototype,"hex",{get:function(){return Chroma.lch(this.lch[0],this.lch[1],this.lch[2]).hex()},enumerable:!0,configurable:!0}),Object.defineProperty(ColorWheel.prototype,"alpha",{get:function(){return this._alpha},set:function(val){this._alpha!==val&&(this.dirty=!0),this._alpha=val},enumerable:!0,configurable:!0}),Object.defineProperty(ColorWheel.prototype,"color",{get:function(){var color=Chroma.lch(this.lch[0],this.lch[1],this.lch[2]);return color.alpha(this._alpha),color},set:function(val){var newLch=val.lch(),newAlpha=val.alpha();this._lch[0]==newLch[0]&&this._alpha==newAlpha||(this.dirty=!0),this._lch=newLch,this._alpha=newAlpha},enumerable:!0,configurable:!0}),ColorWheel.prototype.loop=function(){this.draw(),this.animationLoopHandlerRef=window.requestAnimationFrame(this.loop.bind(this))},ColorWheel.prototype.draw=function(){if(this.dirty){this.offset=_offset(this.colorWheelDivID);for(var context=_id(this.colorWheelDivID).getContext("2d"),pixels=this.imageDataCache.data,i=0,picked_dist=Number.MAX_VALUE,y=0;y<this.height;y++)for(x=0;x<this.width;x++,i+=4){var rx=x-this.cx,ry=y-this.cy,d=Math.sqrt(rx*rx+ry*ry);if(d<this.radius+.5){var h=180*Math.atan2(ry,rx)/Math.PI;h<0&&(h+=360),h>360&&(h-=360);var c=100*d/this.radius,rgb=_lch2rgb(this.lch[0],c,h),dist=Math.sqrt(Math.pow(c-this.lch[1],2)+Math.pow(h-this.lch[2],2));dist<picked_dist&&(picked_dist=dist,this.picked_x=x,this.picked_y=y);var f_a=this.alpha,f_r=rgb[0],f_g=rgb[1],f_b=rgb[2],horz=Math.floor(x/5)%2==0,vert=Math.floor(y/5)%2==0,b_r=val=horz&&!vert||!horz&&vert?250:200,b_g=val,b_b=val;pixels[i]=f_r*f_a+b_r*(1-f_a),pixels[i+1]=f_g*f_a+b_g*(1-f_a),pixels[i+2]=f_b*f_a+b_b*(1-f_a),pixels[i+3]=255*Math.max(0,this.radius-d)}}i=0;for(y=0;y<this.height;y++)for(x=0;x<this.width;x++,i+=4)if(!(y<30||y>this.height-30||x<2||x>15)){rgb=_lch2rgb(100-100*(y-30)/(this.height-60),this.lch[1],this.lch[2]);pixels[i]=rgb[0],pixels[i+1]=rgb[1],pixels[i+2]=rgb[2],pixels[i+3]=255}i=0;for(var rgb=_lch2rgb(this.lch[0],this.lch[1],this.lch[2]),y=0;y<this.height;y++)for(var x=0;x<this.width;x++,i+=4)if(!(y<30||y>this.height-30||x<this.width-16||x>this.width-3)){var f_a=1-(y-30)/(this.height-60),f_r=rgb[0],f_g=rgb[1],f_b=rgb[2],horz=Math.floor(x/5)%2==0,vert=Math.floor(y/5)%2==0,val=horz&&!vert||!horz&&vert?250:200,b_r=val,b_g=val,b_b=val;pixels[i]=f_r*f_a+b_r*(1-f_a),pixels[i+1]=f_g*f_a+b_g*(1-f_a),pixels[i+2]=f_b*f_a+b_b*(1-f_a),pixels[i+3]=255}context.putImageData(this.imageDataCache,0,0),context.lineWidth=1.5,this.lch[0]>50?context.strokeStyle="#2f2f2f":context.strokeStyle="#dfdfdf",context.beginPath();var lightnessY=30+(100-this.lch[0])/100*(this.height-60);lightnessY=Math.max(37,Math.min(this.height-30-6,lightnessY)),context.arc(9,lightnessY,5,0,2*Math.PI,!1),context.stroke(),context.beginPath(),this.alpha<.5&&(context.strokeStyle="#2f2f2f"),context.arc(this.picked_x,this.picked_y,6,0,2*Math.PI,!1),context.stroke(),context.beginPath();var alphaY=Math.min(this.height-35,30+(1-this.alpha)*(this.height-60));alphaY=Math.max(37,Math.min(this.height-30-6,alphaY)),context.arc(this.width-9,alphaY,5,0,2*Math.PI,!1),context.stroke()}},ColorWheel.prototype.destroy=function(){this.removeEventListeners()},ColorWheel}();exports.ColorWheel=ColorWheel});